define(["jquery","core/str","core/ajax","core/notification"],function(a,b,c,d){return{update_field:function(e,f,g){var h=a('.mx-checkbox[name="'+f+'"][value="'+g+'"]');h.change(function(){var i=c.call([{methodname:"local_mxschool_set_boolean_field",args:{table:e,field:f,id:g,value:h.prop("checked")}}]);i[0].done(function(){var c=a("<span></span>").text(" saved").attr("class","green");a(h).after(c),setTimeout(function(){c.fadeOut("slow",function(){c.remove();var d=h.parent().children("button");d&&(h.prop("checked")?a.when(b.get_string("email_button_default","local_mxschool")).done(function(a){d.text(a),d.show("slow")}):d.hide("slow",function(){d.text("")}))})},1e3)}).fail(d.exception)})}}});
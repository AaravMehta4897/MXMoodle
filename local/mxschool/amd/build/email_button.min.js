define(["jquery","core/str","core/ajax","core/notification"],function(a,b,c,d){return{sendEmail:function(e,f){var g=a('.mx-email-button[value="'+f+'"]');g.click(function(){var h=c.call([{methodname:"local_mxschool_send_email",args:{emailclass:e,emailparams:{id:f}}}]);h[0].done(function(){a.when(b.get_string("email_button_sent","local_mxschool")).done(function(a){g.text(a),setTimeout(function(){g.hide("slow",function(){g.text("")})},1e3)})}).fail(d.exception)})}}});
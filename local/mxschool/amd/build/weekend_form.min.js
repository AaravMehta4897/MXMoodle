define(["jquery","core/ajax","core/notification","local_mxschool/locallib"],function(a,b,c,d){function e(){var e=b.call([{methodname:"local_mxschool_get_dorm_students",args:{dorm:a(".mx-form select#id_dorm").val()}}]);e[0].done(function(b){d.updateSelect(a(".mx-form select#id_student"),b)}).fail(c.exception)}function f(){var d=b.call([{methodname:"local_mxschool_get_weekend_type",args:{datetime:{hour:a(".mx-form select#id_departure_time_hour").val(),minute:a(".mx-form select#id_departure_time_minute").val(),ampm:a(".mx-form select#id_departure_time_ampm").val(),day:a(".mx-form select#id_departure_date_day").val(),month:a(".mx-form select#id_departure_date_month").val(),year:a(".mx-form select#id_departure_date_year").val()}}}]);d[0].done(function(b){var c=a('.mx-form div[data-groupname="departure"]').next();"Closed"===b?c.show():c.hide()}).fail(c.exception)}return function(){a(document).ready(function(){e(),f()}),a(".mx-form select#id_dorm").change(e),a('.mx-form div[data-groupname="departure"]').change(f)}});
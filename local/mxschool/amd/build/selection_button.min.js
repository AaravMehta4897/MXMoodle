define(["jquery","core/ajax","core/notification"],function(a,b,c){function d(d){var e=a(d.target),f=JSON.parse(e.val()),g=b.call([{methodname:"local_mxschool_select_advisor",args:f}]);g[0].fail(c.exception);var h=e.parent().parent();h.children("td.selection-selected").text(e.text()),h.find("button.mx-selection-button").change()}function e(b){var c=a(b.target),d=c.parent().parent().children("td.selection-selected");d.text()===c.text()?(c.removeClass("btn-secondary"),c.addClass("btn-primary")):(c.removeClass("btn-primary"),c.addClass("btn-secondary"))}return function(b){var c=a("button.mx-selection-button[value='"+b+"']");c.click(d),c.change(e),a(document).ready(c.change())}});
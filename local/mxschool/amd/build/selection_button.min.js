define(["jquery","core/ajax","core/notification"],function(a,b,c){function d(){var d=a(this),e=JSON.parse(d.val()),f=b.call([{methodname:"local_mxschool_select_advisor",args:e}]);f[0].fail(c.exception);var g=d.parent().parent();g.children("td.selection-selected").text(d.text()),g.find("button.mx-selection-button").change()}function e(){var b=a(this),c=b.parent().parent().children("td.selection-selected");c.text()===b.text()?(b.removeClass("btn-secondary"),b.addClass("btn-primary")):(b.removeClass("btn-primary"),b.addClass("btn-secondary"))}return function(b){var c=a("button.mx-selection-button[value='"+b+"']");c.click(d),c.change(e),a(document).ready(c.change())}});
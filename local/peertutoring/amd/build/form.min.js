define(["jquery","core/ajax","core/notification","local_mxschool/locallib"],function(a,b,c,d){function e(){var e=b.call([{methodname:"local_peertutoring_get_tutor_options",args:{userid:a(".mx-form select#id_tutor").val()}}]);e[0].done(function(b){d.updateSelect(a(".mx-form select#id_student"),b.students),d.updateSelect(a(".mx-form select#id_department"),b.departments)}).fail(c.exception)}function f(){var e=b.call([{methodname:"local_peertutoring_get_department_courses",args:{department:a(".mx-form select#id_department").val()}}]);e[0].done(function(b){d.updateSelect(a(".mx-form select#id_course"),b)}).fail(c.exception)}return{setup:function(){a(document).ready(function(){e(),f()}),a(".mx-form select#id_tutor").change(e),a(".mx-form select#id_department").change(f)}}});